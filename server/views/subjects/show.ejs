<%- include('../fragments/staff-header', {pageTitle}) %>

<div id="content">

  <a class="back-link" href="/staff/subjects">&laquo; Back to List</a>

  <div class="subject show">

    <h1>Subject: <%= subject.menuName %></h1>

    <div class="attributes">
      <dl>
        <dt>Menu Name</dt>
        <dd><%= subject.menuName %></dd>
      </dl>
      <dl>
        <dt>Position</dt>
        <dd><%= subject.position %></dd>
      </dl>
      <dl>
        <dt>Visible</dt>
        <dd><%= subject.visible %></dd>
      </dl>
    </div>

    <hr />

    <div class="pages listing">
      <h2>Pages</h2>

      <div class="actions">
        <a class="action" href="<%= `/staff/subjects/${subject.id}/pages/new` %>">Create New Page</a>
      </div>

      <table class="list">
        <tr>
          <th>ID</th>
          <th>Position</th>
          <th>Visible</th>
          <th>Name</th>
          <th>&nbsp;</th>
          <th>&nbsp;</th>
          <th>&nbsp;</th>
        </tr>

        <% subject.pages.forEach(page => { %>
          <tr>
            <td><%= page.id %></td>
            <td><%= page.position %></td>
            <td><%= page.visible %></td>
            <td><%= page.menuName %></td>
            <td><a class="action" href="<%= `/staff/subjects/${subject.id}/pages/show/${page.id}` %>">View</a></td>
            <td><a class="action" href="<%= `/staff/subjects/${subject.id}/pages/edit/${page.id}` %>">Edit</a></td>
            <td><a class="action" href="<%= `/staff/subjects/${subject.id}/pages/delete/${page.id}` %>">Delete</a></td>
          </tr>
        <% }) %>
      </table>

    </div>

  </div>

</div>

<%- include('../fragments/staff-footer') %>
